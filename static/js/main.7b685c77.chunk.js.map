{"version":3,"sources":["img/search.svg","img/persik.png","services/http.js","reducer.js","context.js","core/BtnOutline.js","panels/home/index.js","services/xlsx.js","panels/panel/index.js","panels/list_products/components/last_item.js","panels/idea/index.js","panels/list_products/components/item.js","services/filter_products.js","services/httpApiVk.js","panels/list_products/index.js","services/words.js","services/types.js","App.js","index.js"],"names":["module","exports","fetchClient","axios","create","baseURL","http","get","uri","queryParams","a","params","post","data","JSON","stringify","state","action","type","activePanel","payload","indicators","popout","error","fetchedUser","btn","Object","values","join","types","products","filteredProducts","isOverflow","panelOverflow","Context","React","createContext","BtnOutline","props","size","level","onClick","handleClick","className","active","data-to","data_to","children","Home","dispatch","useContext","id","e","currentTarget","dataset","to","getXLS","request","url","method","responseType","headers","Accept","then","response","Uint8Array","workbook","XLSX","typesWorksheet","Sheets","SheetNames","sheet_to_json","parse","utf8","decode","productsWorksheet","convertProducts","osName","platform","PanelItem","eventDisableYoung","eventDisableOld","professionDisableOld","professionDisableYoung","ageDisable","find","age","sexDisable","sex","buttons","filter","val","event","map","key","setIndicators","to_id","back_id","IOS","title","LastItem","again","redirectSiberiaHandmade","src","search","alt","mode","PresentIdea","go","sendIdea","console","log","templateParams","name","notes1","userInfo","notes2","idea","notes3","notes4","from_name","window","emailjs","send","res","setState","catch","err","this","context","style","textAlign","height","value","onChange","target","placeholder","Component","contextType","propTypes","PropTypes","func","isRequired","Product","memo","product","position","zIndex","img_url","persik","typeHow","filterProducts","lastFilter","undefined","how","charAt","toUpperCase","slice","img","String","trim","isHow","isSex","isAge","productsWithLink","link","sort","Math","random","productsWithoutLink","length","includes","isEvent","isHobby","hobby","isProfession","profession","isRelation","relation","access_token","httpApiVk","assign","jsonp","fn","photos","ListProducts","useState","slideIndex","setSlide","give","bridge","supports","img_fullname","helpGive","buy","parent","location","getImgs","message","forEach","photo","sizes","useEffect","split","countProducts","i","item","count","currentProduct","ref","element","root","document","getElementById","getBoundingClientRect","scrollHeight","before","width","align","data-product","data-name","firstUpperCaseTrim","string","s","replace","getTypes","typesXlsx","keys","str","push","filterType","flatMap","initialState","bdate","city","country","first_name","last_name","photo_100","photo_200","photo_max_orig","timezone","App","useReducer","reducer","user","subscribe","detail","fetchUser","fetchData","Provider","color","withHeader","result","hasOwnProperty","getRelationsAtSex","ReactDOM","render"],"mappings":"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","file":"static/js/main.7b685c77.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/search.5f8d44dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","import axios from 'axios';\n//todo переделать на нормальный сервер для логов\n\n// const baseURL = 'http://localhost/liftlab/www/some/ajax/'\nconst baseURL = process.env.NODE_ENV !== 'development' ? 'https://cors-anywhere.herokuapp.com/http://151.237.175.72:8085/some/ajax/' : ''\n\n\nconst fetchClient = axios.create({\n    baseURL: baseURL,\n});\n\nexport default class http {\n\n    static get = async (uri, queryParams) => {\n        try {\n            return await fetchClient.get(uri, {params: queryParams});\n        } catch (e) {\n            return e;\n        }\n    }\n\n    static post = async (uri, data) => {\n        // const instance = fetchClient();\n        try {\n            return await fetchClient.post(uri, JSON.stringify(data));\n        } catch (e) {\n            return e;\n        }\n    };\n\n}\n","import http from './services/http'\n\nexport default (state, action) => {\n    switch (action.type) {\n        case \"setActivePanel\":\n            return {\n                ...state,\n                activePanel: action.payload.activePanel,\n                indicators: {\n                    ...state.indicators,\n                    ...action.payload.data\n                }\n            };\n        case \"setPopout\":\n            return {\n                ...state,\n                popout: action.payload.popout,\n                error: action.payload.error\n            }\n        case \"setUser\":\n            http.post('writeHandMade', {'msg':\n            // Пользователь ${action.payload.fetchedUser.id}\n            `. Зашел.`})\n            return {\n                ...state,\n                fetchedUser: action.payload.fetchedUser,\n                popout: action.payload.popout\n            }\n        case \"setIndicators\":\n          const btn = Object.values(action.payload.data).join('.');\n            http.post('writeHandMade', {'msg':\n                // Пользователь ${state.fetchedUser.id}.\n                    `Выбрал. ${btn}`})\n            return {\n                ...state,\n                activePanel: action.payload.activePanel,\n                indicators: {\n                    ...state.indicators,\n                    ...action.payload.data\n                }\n            }\n        case \"setTypes\":\n            return {\n                ...state,\n                types: action.payload.types,\n                popout: action.payload.popout\n            }\n        case \"getAllProducts\":\n            return {\n                ...state,\n                products: action.payload.products,\n                popout: action.payload.popout\n            }\n        case \"getFilteredProducts\":\n            return {\n                ...state,\n                filteredProducts: action.payload.filteredProducts,\n                popout: action.payload.popout\n            }\n        case \"setOverflow\":\n            return {\n                ...state,\n                isOverflow: action.payload.isOverflow,\n                panelOverflow: action.payload.panelOverflow,\n            }\n        default:\n            return {\n                ...state,\n                error: \"Такого метода не существует!\"\n            }\n    }\n}\n","import React from 'react'\n\nexport const Context = React.createContext()","import Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n\nconst BtnOutline = props => (\n    <Button size='l' level=\"outline\" onClick={props.handleClick} className={props.active ? \"btn-primary\" : \"btn-white\"}\n            data-to={props.data_to}>\n        {props.children}\n    </Button>\n);\n\nBtnOutline.propTypes = {\n    data_to: PropTypes.string.isRequired,\n    handleClick: PropTypes.func.isRequired,\n    active: PropTypes.bool\n};\n\nexport default BtnOutline;","import React, {useContext} from 'react'\nimport {Context} from './../../context'\nimport PropTypes from 'prop-types';\nimport {Div} from '@vkontakte/vkui';\nimport BtnOutline from \"../../core/BtnOutline\";\n//import arrow from './../../img/arrow.svg'\nimport '../../../node_modules/animate.css/animate.css';\n\nconst Home = (props) => {\n\n    const {dispatch} = useContext(Context);\n\n    const go = (e) => {\n\n        dispatch({\n            type: 'setActivePanel',\n            payload: {\n                activePanel: e.currentTarget.dataset.to,\n                // activePanel: 'idea',\n            }\n        })\n    };\n\n    return <div id={props.id} className='wrapper '>\n        <div className={'home'}>\n            <Div className='title'>\n                Не знаешь,<br/>что подарить?\n            </Div>\n            <Div className='text'>\n                Воспользуйся нашим сервисом<br/>и получи идеи для подарка!\n            </Div>\n            <Div className='homeBtn'>\n                <BtnOutline data_to=\"how\" handleClick={go}>\n                    Найти подарок!\n                </BtnOutline>\n            </Div>\n        </div>\n    </div>\n}\n\nHome.propTypes = {\n    id: PropTypes.string.isRequired,\n    // go: PropTypes.func.isRequired,\n    // fetchedUser: PropTypes.shape({\n    //     photo_200: PropTypes.string,\n    //     first_name: PropTypes.string,\n    //     last_name: PropTypes.string,\n    //     city: PropTypes.shape({\n    //         title: PropTypes.string,\n    //     }),\n    // }),\n};\n\nexport default Home;\n","import * as XLSX from 'xlsx';\nimport axios from \"axios\";\nimport utf8 from 'utf8'\n\n//export const urlXlsxGoogle = \"https://docs.google.com/spreadsheets/d/1Oikpp2P8Tp4I8s4gIJEjK4rnR4WRIoG8SMyawtCifSs/export?format=xlsx\";\nexport const urlXlsxGoogle = \"https://docs.google.com/spreadsheets/d/1Oikpp2P8Tp4I8s4gIJEjK4rnR4WRIoG8SMyawtCifSs/gviz/tq?tqx=out:csv\";\nexport const urlXlsxGoogleBD = \"https://docs.google.com/spreadsheets/d/1Oikpp2P8Tp4I8s4gIJEjK4rnR4WRIoG8SMyawtCifSs/gviz/tq?tqx=out:csv&sheet=BD\";\n\n\nexport const getXLS = async () => {\n    return axios.request({\n        url: urlXlsxGoogle,\n        method: 'get',\n        responseType: 'arraybuffer',\n        headers: {\n            Accept: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        },\n    }).then((response) => {\n        const data = new Uint8Array(response.data);\n        const workbook = XLSX.read(data, {type: \"array\"});\n        const typesWorksheet = workbook.Sheets[workbook.SheetNames[0]];\n        const types = XLSX.utils.sheet_to_json(typesWorksheet);\n         return JSON.parse(utf8.decode(JSON.stringify(types)))\n    }).then(types => {\n        // console.log(types)\n        return axios.request({\n            url: urlXlsxGoogleBD,\n            method: 'get',\n            responseType: 'arraybuffer',\n            headers: {\n                Accept: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n            },\n        }).then((response) => {\n            const data = new Uint8Array(response.data);\n            const workbook = XLSX.read(data, {type: \"array\"});\n            const productsWorksheet = workbook.Sheets[workbook.SheetNames[0]];\n            const products = XLSX.utils.sheet_to_json(productsWorksheet);\n            const convertProducts = JSON.parse(utf8.decode(JSON.stringify(products)))\n            // console.log({types, products: convertProducts})\n            return {types, products: convertProducts}\n        })\n    });\n}\n\n// export const logXlsx = ()=> {\n//     const wopts = {bookType: 'xlsx', bookSST: false, type: 'base64'};\n//\n//     axios.request({\n//         url: urlXlsxGoogleWrite,\n//         method: 'post',\n//         // headers: {\n//         //     Accept: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n//         // })\n//         data: JSON.stringify({\n//             \"range\": 'A1',\n//             \"values\": wopts\n//\n//         })\n//     }).then((response) => {\n//\n//     }).catch(err=>{\n//\n//     })\n// }\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport {Div, IOS, platform} from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport './../../style.css';\nimport BtnOutline from \"../../core/BtnOutline\";\nimport {Context} from \"../../context\";\nimport '../../../node_modules/animate.css/animate.css';\n\n\nconst osName = platform();\n\nconst PanelItem = props => {\n    const {state, dispatch} = useContext(Context)\n\n    const setIndicators = (e, data) => {\n        // console.log(data)\n        dispatch({\n            type: 'setIndicators',\n            payload: {\n                data: data,\n                activePanel: e.currentTarget.dataset.to,\n            }\n        })\n    };\n\n    const go = e => {\n\n        dispatch({\n            type: 'setActivePanel',\n            payload: {\n                data: {[props.id]: null},\n                activePanel: e.currentTarget.dataset.to,\n            }\n        })\n    };\n    //'profession' От 0 до 5 лет  = Айтишнику Банкиру Бармену Бизнес-тренеру Визажисту Военному Воспитателю Доктору Методисту\n    // Моряку Парикмахеру Продавцу Стилисту Стоматологу Строителю Таксисту Тренеру Фитнес-тренеру Фотографу Художнику Швее Шоферу Юристу\n\n    //'profession' 'От 11 до 16 лет' = Банкиру Бармену Бизнес-тренеру Визажисту Воспитателю Методисту Парикмахеру Стилисту Стоматологу Тренеру Швее Юристу\n    //(props.id == 'event') && props.types.filter((val) => val !== 'Kорпоратив')\n\n    // список исключений 'event'\n    const eventDisableYoung = ['На Свадьбу', 'Девишник', 'Свадьба', 'Рождение ребенка', 'На рождение ребенка', 'На мальчишник', 'На корпоратив', 'На Свадьба', 'Мальчишник', 'Корпоратив', 'Автоледи'];\n    const eventDisableOld = ['Выпускной детский сад'];\n\n    const professionDisableOld = ['Банкиру', 'Бармену', 'Бизнес-тренеру', 'Визажисту', 'Воспитателю', 'Методисту', 'Парикмахеру', 'Стилисту', 'Стоматологу', 'Тренеру', 'Швее', 'Юристу'];\n    const professionDisableYoung = ['Айтишнику', 'Банкиру', 'Бармену', 'Бизнес-тренеру', 'Визажисту', 'Военному', 'Воспитателю', 'Доктору', 'Методисту', 'Моряку', 'Парикмахеру',\n        'Продавцу', 'Стилисту', 'Стоматологу', 'Строителю', 'Таксисту', 'Тренеру', 'Фитнес-тренеру', 'Фотографу', 'Художнику', 'Швее', 'Шоферу', 'Юристу'];\n\n    //исключение возраста\n    const ageDisable = !!['От 0 до 5 лет', 'От 6 до 10 лет'].find(age => age === state.indicators.age);\n    //const ageDisableOld = !!['От 11 до 16 лет','От 17 до 20 лет','От 21 до 30 лет','От 31 и старше'].find(age => age === state.indicators.age);\n\n    const sexDisable = !!['Мужчине'].find(sex => sex === state.indicators.sex);\n\n\n    //проверка в списках на рабочие кнопки\n    const types = props.types.filter((val) => {\n        switch (props.id) {\n            case 'event' :\n                return ageDisable ? !eventDisableYoung.find((event) => event === val) : !eventDisableOld.find((event) => event === val)\n            case 'hobby' :\n                return sexDisable ? !eventDisableYoung.find((event) => event === val) : val\n            case 'profession' :\n                return ageDisable ? !professionDisableYoung.find((event) => event === val) : !professionDisableOld.find((event) => event === val)\n            default:\n                return true\n        }\n\n    })\n\n    const buttons = types.map((val) =>\n        <BtnOutline\n            key={val}\n            handleClick={(e) => setIndicators(e, {[props.id]: val})}\n            data_to={props.to_id}\n            active={state.indicators[props.id] === val}>\n            {val}\n        </BtnOutline>)\n\n    return <div className={'wrapper'} id={props.id}>\n        <div className={'panel'}>\n            <Div className={'header'}>\n                <button className={'btn-back'} onClick={go} data-to={props.back_id}>\n                    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                </button>\n                <Div className={'header-title'}>{props.title}</Div>\n            </Div>\n\n            <Div className='content'>\n                <div className={'btn-wrap'}>\n                    <div className={'styleButtons'}>{buttons}</div>\n                </div>\n            </Div>\n        </div>\n    </div>\n}\n\nPanelItem.propTypes = {\n    id: PropTypes.string.isRequired,\n    withHeader: PropTypes.bool,\n    back_id: PropTypes.string,\n    to_id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    types: PropTypes.array.isRequired\n};\n\nexport default PanelItem;\n","import React, {useContext} from 'react'\nimport {Button} from \"@vkontakte/vkui\";\nimport PropTypes from 'prop-types';\nimport search from './../../../img/search.svg'\n\nimport {Context} from \"../../../context\";\n// import bridge from \"@vkontakte/vk-bridge\";\n\nconst LastItem = (props) => {\n\n    const {dispatch} = useContext(Context)\n\n    const go = () => {\n\n        dispatch({\n            type: 'setActivePanel',\n            payload: {\n                activePanel: 'idea',\n            }\n        })\n    };\n\n    const {again, redirectSiberiaHandmade} = props\n    return (\n        <div className=\"product\">\n            <div className=\"lastProduct\">\n                <img src={search} className={'img-search'} alt={''}/* width={150} height={200} *//>\n                <div>\n                    <Button size='l' level=\"outline\" className=\"btn-white\" onClick={again}>Попробовать еще раз!</Button>< br/>\n                    <Button size='l' level=\"outline\" className=\"btn-white\" onClick={redirectSiberiaHandmade}>\n                        Подберите мне подарок!\n                    </Button>\n                    <Button size='l' mode=\"outline\" className=\"btn-white-last\"  onClick={go} data_to={'idea_page'}>\n                        Предложить свою идею\n                    </Button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nLastItem.propTypes = {\n    again: PropTypes.func.isRequired,\n    redirectSiberiaHandmade: PropTypes.func.isRequired\n};\n\nexport default LastItem\n\n\n","import React from 'react'\nimport {Alert, Button, Div, Input, Textarea} from \"@vkontakte/vkui\"\nimport PropTypes from \"prop-types\";\nimport LastItem from \"../list_products/components/last_item\";\nimport './../../style.css';\nimport {Context} from \"../../context\";\n\n// import {Context} from \"../../context\";\n\nclass PresentIdea extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            userInfo: '',\n            idea: '',\n            url: '',\n            send: false,\n        };\n    }\n\n    static contextType = Context\n\n    go = dispatch => {\n        dispatch({\n            type: 'setActivePanel',\n            payload: {\n                activePanel: 'home',\n            }\n        })\n    };\n\n    sendIdea = () => {\n        console.log(this.state)\n        const templateParams = {\n            name: 'Anton',\n            notes1: this.state.userInfo,\n            notes2: this.state.idea,\n            notes3: this.state.url,\n            notes4: `https://vk.com/id${this.props.fetchedUser.id}`,\n            from_name: 'vk_handmade',\n        };\n        //console.log(templateParams)\n        window.emailjs.send(\n            'zzbaalzz_gmail_com', \"template_HH3hOYEI\",\n            templateParams\n        ).then(res => {\n            console.log('Email successfully sent!', res)\n            this.setState({send: true})\n        }).catch(err => console.error('Oh well, you failed. Here some thoughts on the error that occured:', err))\n    }\n\n    render() {\n        console.log(this.context)\n        const {state, dispatch} = this.context\n\n        if (!this.state.send) {\n            return (\n                <div className=\"wrapper\" id={this.props.id}>\n                    <div style={{height: '100%'}}>\n                        <Div className={'header'}>\n                            <Div className={'header-title'}>\n                                <h1>Предложить идею</h1>\n                            </Div>\n                        </Div>\n                        <div style={{textAlign: 'center'}}>\n                            <Div>\n                                <p className={'text'}>Кому подарок?</p>\n                                <Input\n                                    value={this.state.userInfo}\n                                    onChange={(event) => this.setState({userInfo: event.target.value})}\n                                    placeholder=\"Пол, возраст, кем приходится?\"\n                                    name=\"\"\n                                    type=\"text\"\n                                />\n                            </Div>\n                            <p className={'text'}>Что за подарок?</p>\n                            <Textarea\n                                placeholder=\"Расскажи, что за подарок\"\n                                value={this.state.idea}\n                                onChange={(event) => this.setState({idea: event.target.value})}\n                            />\n                            <p className={'text'}>Есть страница или фото с подарком?</p>\n                            <Input\n                                value={this.state.url}\n                                onChange={(event) => this.setState({url: event.target.value})}\n                                placeholder=\"вставь ссылку, если есть\"\n                                name=\"\"\n                                type=\"text\"\n                            />\n                            <Div>\n                                <Button size='l' level=\"outline\" className=\"btn-white\" onClick={this.sendIdea}>\n                                    Отправить идею\n                                </Button>\n                            </Div>\n                        </div>\n                    </div>\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"wrapper\" id={this.props.id}>\n                    <div className=\"send-idea\" style={{textAlign: 'center'}}>\n                        <h1>Спасибо за идею!<br/> Мы обязательно её рассмотрим!</h1>\n                        <Button size='l' level=\"outline\" className=\"btn-white-last\" onClick={() => this.go(dispatch)}>\n                            На главную\n                        </Button>\n                    </div>\n\n                </div>\n            )\n        }\n    }\n}\n\nLastItem.propTypes = {\n    again: PropTypes.func.isRequired,\n    redirectSiberiaHandmade: PropTypes.func.isRequired\n};\n\nexport default PresentIdea;\n","import React from 'react'\nimport persik from \"../../../img/persik.png\";\nimport PropTypes from 'prop-types';\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\n\n\nconst Product = React.memo(props => {\n    const {product} = props\n    // console.log(product);\n\n    return (\n        <div className=\"product\">\n            <div style={{position: 'absolute', zIndex: -1}}><ScreenSpinner size='medium'/></div>\n            <div className={'img-wrap'}>\n                <img placeholder=\"\" className=\"img-product\" src={product.img_url || persik} alt=\"Persik The Cat\"/>\n            </div>\n        </div>\n    )\n})\n\nProduct.propTypes = {\n    product: PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        // img_url: PropTypes.string.isRequired,\n        id: PropTypes.string.isRequired\n    }),\n    count: PropTypes.number.isRequired,\n    item: PropTypes.number.isRequired,\n    // buy : PropTypes.func.isRequired,\n    // give: PropTypes.func.isRequired\n};\n\nexport default Product\n\n\n","export const typeHow = {\n    'По увлечениям': 'hobby',\n    'По профессии': 'profession',\n    'Родственнику': 'relation',\n    'На событие': 'event',\n}\n\n\nexport default class filterProducts {\n\n    static indicators;\n\n    static filter = (products, indicators) => {\n        this.indicators = indicators;\n        const filteredProducts = products.filter((product) => {\n            const lastFilter = typeHow[this.indicators.how] === undefined ? true :\n                this[`is${typeHow[this.indicators.how].charAt(0).toUpperCase()}${typeHow[this.indicators.how].slice(1)}`](product);\n            // console.log('product-- ', product.id, product);\n            if (!product.img || !String(product.img ? product.img : \"\").trim() || !product.active) return false;\n            return this.isHow(product) && this.isSex(product) && this.isAge(product) && lastFilter\n        })\n\n        const productsWithLink = filteredProducts.filter((product) => {\n            return !!product.link\n        }).sort(function () {\n            return .5 - Math.random()\n        }).slice(0, 10);\n\n        const productsWithoutLink = filteredProducts.filter((product) => {\n            return !product.link\n        }).sort(function () {\n            return .5 - Math.random()\n        }).slice(0, 15-productsWithLink.length);\n\n        return [...productsWithLink, ...productsWithoutLink];\n    }\n\n    static isHow = (product) => !!product.how ? product.how.includes(this.indicators.how) : true\n\n    static isSex = (product) => !!product.sex ? product.sex.includes(this.indicators.sex) : true\n\n    static isAge = (product) => !!product.age ? product.age.includes(this.indicators.age) : true\n\n    static isEvent = (product) => !!product.event ? product.event.includes(this.indicators.event) : true\n\n    static isHobby = (product) =>  !!product.hobby ? product.hobby.includes(this.indicators.hobby) : true\n\n    static isProfession = (product) => !!product.profession ? product.profession.includes(this.indicators.profession) : true\n\n    static isRelation = (product) => !!product.relation ? product.relation.includes(this.indicators.relation) : true\n\n}\n// id,active,name,img,sex,how,relation,profession,hobby,event,age,link,description\n\n// [0: {active: \"1\", name: \"Скетчбук в авторской обложке\", img: \"457241933, 457241935, 457241932, 457241934 \", how: \"1,3,4\", relation: \"3, 4, 6, 10, 11, 13\", hobby: \"7\", …}]\n\n// how: \"\"\n// sex: null\n// age: null\n// event: null\n// hobby: null\n// profession: null\n// relation: null\n// active: '1'\n","import axios from 'axios';\nimport jsonp from 'jsonp';\n\n// const env = process.env.NODE_ENV !== 'production' ? 'ords' : 'dev';\n\n// const uriImg = `https://api.vk.com/method/photos.getById?access_token=470c6262470c6262470c62624a476171c74470c470c62621a81abc51a6bc2a2df1c0664`;\nconst baseURL = 'https://api.vk.com/method/'\nconst access_token = `470c6262470c6262470c62624a476171c74470c470c62621a81abc51a6bc2a2df1c0664`;\nexport const handmade_id = `176551026`;\n\nconst params = {\n    access_token: access_token,\n}\n\nconst fetchClient = axios.create({\n    baseURL: baseURL,\n});\n\nexport default class httpApiVk {\n\n    static get = async (uri, queryParams) => {\n        try {\n            return await fetchClient.get(uri, {params: Object.assign(queryParams, params)});\n        } catch (e) {\n            return e;\n        }\n    }\n\n    static post = async (uri, data) => {\n        // const instance = fetchClient();\n        try {\n            return await fetchClient.post(uri, data);\n        } catch (e) {\n            return e;\n        }\n    };\n\n    static jsonp = async (uri, queryParams, fn) => {\n        const url = `${baseURL}${uri}?access_token=${access_token}&photos=${queryParams.photos}&extended=0&photo_sizes=0&v=5.101`;\n        await jsonp(url, null, fn);\n    }\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport PropTypes from 'prop-types';\nimport {IOS, platform, Div, Gallery, CellButton, Button} from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport './../../style.css';\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon24BrowserForward from '@vkontakte/icons/dist/24/browser_forward';\nimport {Context} from \"../../context\";\nimport Product from \"./components/item\";\nimport filterProducts from \"../../services/filter_products\";\nimport httpApiVk, {handmade_id} from \"../../services/httpApiVk\";\nimport http from '../../services/http'\nimport LastItem from \"./components/last_item\";\nimport bridge from '@vkontakte/vk-bridge';\n\nconst osName = platform();\n\nconst uriImg = 'photos.getById';\n\nconst ListProducts = props => {\n    const [slideIndex, setSlide] = useState(0);\n    // const slideIndex = useState(0);\n    const {state, dispatch} = useContext(Context)\n    let filteredProducts = {};\n\n    const go = e => {\n        dispatch({\n            type: 'setActivePanel',\n            payload: {\n                activePanel: props.back_id,\n            }\n        })\n    };\n\n    const give = async (e, product) => {\n        // console.log(product)\n        await http.post('writeHandMade', {\n            'msg':\n            //Пользователь ${state.fetchedUser.id}.\n                `Нажал: Хочу себе. Идея: ${product.id}-${product.name}.`\n        })\n\n        if (bridge.supports(\"VKWebAppShowWallPostBox\")) {\n            bridge.send(\"VKWebAppShowWallPostBox\", {\n                \"message\": `Сервис поиска подарков! Хочу себе ${product.name}!`,\n                \"attachments\": `photo${product.img_fullname}, https://vk.com/siberia_handmade`\n            })\n        }\n    };\n\n\n    const helpGive = async (e, product) => {\n        http.post('writeHandMade', {\n            'msg':\n            //Пользователь ${state.fetchedUser.id}.\n                `Нажал: Где купить.Помогите найти.Идея: ${product.id}-${product.name}.`\n        })\n        if (bridge.supports(\"VKWebAppShowWallPostBox\")) {\n            bridge.send(\"VKWebAppShowWallPostBox\", {\n                \"message\": `Где купить\\\\заказать: ${product.name}! Помогите найти! https://vk.com/siberia_handmade`,\n                \"attachments\": `photo${product.img_fullname}, https://vk.com/siberia_handmade`\n            })\n        }\n    };\n\n    const buy = async (e, product) => {\n        await http.post('writeHandMade', {\n            'msg':\n            // Пользователь ${state.fetchedUser.id}.\n                `Нажал: Где купить?. Идея: ${product.id}-${product.name}.`\n        })\n        window.parent.location = !!product.link ? product.link : 'https://vk.com/siberia_handmade?w=app6887721_-176551026';\n    };\n\n    const again = e => {\n        http.post('writeHandMade', {\n            'msg':\n            // Пользователь ${state.fetchedUser.id}.\n                `Нажал: Попробовать еще раз!.`\n        })\n        dispatch({\n            type: 'setActivePanel',\n            payload: {\n                activePanel: 'home',\n            }\n        })\n    };\n    const redirectSiberiaHandmade = e => {\n        // console.log('redirectSiberiaHandmade-- ');\n        http.post('writeHandMade', {\n            'msg':\n            // Пользователь ${state.fetchedUser.id}.\n                `Нажал: Подберите мне подарок.`\n        })\n        window.parent.location = 'https://vk.com/siberia_handmade?w=app6887721_-176551026';\n    };\n\n\n    const getImgs = (err, data) => {\n        if (err) {\n            console.error(\"ERROR get images\", err.message);\n            dispatch({\n                type: 'setPopout',\n                payload: {\n                    popout: false,\n                    error: \"Ошибка подключения к серверу ВК!\"\n                }\n            })\n        } else {\n            // console.log('data-- ', data);\n            // console.log('filteredProducts-- ', filteredProducts);\n            filteredProducts.map((product) => {\n                data.response.forEach((photo) => {\n                    // console.log(photo)\n                    if (!!product.img && String(product.img).includes(photo.id)) {\n                        product.img_url = photo.sizes[4].url\n                    }\n                })\n                return product\n            })\n            dispatch({\n                type: 'getFilteredProducts',\n                payload: {\n                    filteredProducts: filteredProducts,\n                    popout: false,\n                }\n            })\n\n        }\n    }\n\n    //filter products\n    useEffect(() => {\n        dispatch({\n            type: 'setPopout',\n            payload: {\n                popout: true,\n            }\n        })\n\n        function filter() {\n            // console.log('prod',state.products,state.indicators,handmade_id);\n\n            filteredProducts = filterProducts.filter(state.products, state.indicators);\n            // console.log(filteredProducts, state.products, state.indicators)\n            const photos = filteredProducts.map((product) => {\n                if (!product.img) return '';\n                product.img_fullname = `-${handmade_id}_${String(product.img).split(',')[0].trim()}`\n                return product.img_fullname\n            }).filter(img => !!img).join(',')\n            // console.log('photos-- ', photos);\n            if (!!photos) {\n                httpApiVk.jsonp(uriImg, {photos: photos}, getImgs)\n            } else {\n                dispatch({\n                    type: 'getFilteredProducts',\n                    payload: {\n                        filteredProducts: filteredProducts,\n                        popout: false,\n                    }\n                })\n            }\n\n        }\n\n        filter();\n    }, []);\n\n    const refCallback = element => {\n        if (element) {\n            const root = document.getElementById('root')\n            const isOverflow = element.getBoundingClientRect().height > root.scrollHeight\n            if (state.isOverflow !== isOverflow && state.panelOverflow !== state.activePanel) {\n                dispatch({\n                    type: 'setOverflow',\n                    payload: {\n                        isOverflow: isOverflow,\n                        panelOverflow: state.activePanel\n                    }\n                })\n            }\n        }\n    };\n\n    const countProducts = state.filteredProducts.length;\n\n    const products = state.filteredProducts.map((product, i) =>\n        <Product key={i} item={++i}\n                 product={product}\n                 count={countProducts}\n        />)\n\n    // console.log('countProducts-- ', products);\n    const item = slideIndex + 1;\n    const currentProduct = state.filteredProducts[slideIndex];\n    const title = currentProduct && currentProduct.name;\n    return <div className={'wrapper'} id={props.id}>\n        <div className={'panel'}>\n            <Div className={'header'}>\n                <button className={'btn-back'} onClick={go} data-to={props.back_id}>\n                    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                </button>\n                <Div className={'header-title'}>\n                    {(!!countProducts && countProducts !== slideIndex) ? `${item} из ${countProducts}: ${title}` : \"Не нашли что искали?\"}\n                </Div>\n            </Div>\n            <div className={'container-items'} ref={refCallback}>\n                <div className={'block-items'}>\n                    <div className={'slider-wrap'}>\n                        {!!countProducts && slideIndex !== 0 &&\n                        <CellButton className={\"slider-btn slider-btn-left\"}\n                                    onClick={() => setSlide(slideIndex === 0 ? 0 : slideIndex - 1)}\n                                    before={<Icon24BrowserBack width={40} height={40}/>}/>}\n                        <div className={\"slider-gallery\"}>\n                            <Gallery\n                                className={\"gallery\"}\n                                align=\"center\"\n                                slideIndex={slideIndex}\n                                onChange={slideIndex => setSlide(slideIndex)}\n                            >\n                                {products}\n                                <LastItem again={again} redirectSiberiaHandmade={redirectSiberiaHandmade}/>\n                            </Gallery>\n                        </div>\n                        {!!countProducts && countProducts !== slideIndex &&\n                        <CellButton className={\"slider-btn slider-btn-right\"} onClick={() => setSlide(slideIndex + 1)}\n                                    before={<Icon24BrowserForward width={40} height={40}/>}/>}\n\n                    </div>\n                </div>\n            </div>\n            {(!!countProducts && countProducts !== slideIndex) && <div className={'btn-wrap-items'}>\n                <Button size='l'\n                        level=\"outline\"\n                        className=\"btn-white\"\n                        data-product={currentProduct.id}\n                        data-name={currentProduct.name}\n                        onClick={e => {\n                            currentProduct.link ? buy(e, currentProduct) : helpGive(e, currentProduct)\n                        }}\n                >Где купить?</Button>\n                <Button size='l'\n                        level=\"outline\"\n                        className=\"btn-white\"\n                        onClick={e => give(e, currentProduct)}\n                >Хочу себе!</Button>\n            </div>}\n        </div>\n    </div>\n\n};\n\nListProducts.propTypes = {\n    id: PropTypes.string.isRequired,\n    back_id: PropTypes.string.isRequired,\n    // go: PropTypes.func.isRequired,\n};\n\nexport default ListProducts;\n","export const firstUpperCaseTrim = (string) => {\n    if(!string|| !string.trim()) return '';\n    const s = string.trim();\n    return (s[0].toUpperCase() + s.slice(1)).replace(/  /g, ' ')\n}","import {firstUpperCaseTrim} from \"./words\";\n\nexport const getTypes = (products, typesXlsx) => {\n    let types = {\n        age: [],\n        event: [],\n        hobby: [],\n        how: [],\n        relation: [],\n        sex: [],\n        profession: [],\n        active: [],\n    };\n\n    // console.log('products', products)\n    products.map((product)=> ({...product, img: String(product.img)})).forEach((product) => {\n        Object.keys(product).forEach(key => {\n            if (types[key] !== undefined) {\n                if(key === 'id' || key === 'active') return key\n                if (key === 'img') String(key)\n              return  product[key].split(',').map(i => {\n                    const str = firstUpperCaseTrim(i)\n                    if(!!str) types[key].push(str)\n                });\n        }})\n\n        // types.age.push(product.age.split(',').map(age=>firstUpperCaseTrim(age)));\n        //  types.event.push(product.event.split(',').map(event=>firstUpperCaseTrim(event)));\n        //  types.hobby.push(product.hobby.split(',').map(hobby=>firstUpperCaseTrim(hobby)));\n        //  types.how.push(product.how.split(',').map(how=>firstUpperCaseTrim(how)));\n        //  types.relation.push(product.relation.split(',').map(relation=>firstUpperCaseTrim(relation)));\n        //  types.sex.push(product.sex.split(',').map(sex=>firstUpperCaseTrim(sex)));\n        //  types.profession.push(product.profession.split(',').map(profession=>firstUpperCaseTrim(profession)));\n\n    })\n\n    const filterType = (item) => {\n        return typesXlsx.flatMap((type)=>type[item]).filter((type)=>type)\n    }\n\n    types.age = filterType('age')\n    types.event = filterType('event')\n    types.active = filterType('active')\n    types.hobby = filterType('hobby')\n    types.how = filterType('how')\n    // types.relation = [...new Set(types.relation.sort())]\n    types.sex = filterType('sex')\n    types.profession = filterType('profession')\n    //данные \"отношения\" берем из первого листа чтобы поделить на М и Ж\n\n    types.relation = typesXlsx.map((type) => {\n        if (type.relation !== undefined)\n           return  firstUpperCaseTrim(type.relation)\n    }).filter((type)=>!!type)\n\n    // console.log(types);\n    return types;\n}\n\n\n//types{}\n// age: {1: \"От 0 до 5 лет\", 2: \"От 6 до 10 лет\", 3: \"От 11 до 16 лет\", 4: \"От 17 до 20 лет\", 5: \"От 21 до 30 лет\", 6: \"От 30 и старше\"}\n// event: {1: \"На выписку\", 2: \"На рождение ребенка\", 3: \"Юбилей\", 4: \"День рождения\", 5: \"Корпоратив\", 6: \"Новоселье\", 7: \"Годовщина\", 8: \"Выпускной\", 9: \"Мальчишник\", 10: \"Свадьба\"}\n// hobby: {1: \"Книголюбу\", 2: \"Музыканту\", 3: \"Охотнику\", 4: \"Спортсмену\", 5: \"Автомобилисту\", 6: \"Кулинару\", 7: \"Рукодельнику\", 8: \"Путешественнику\", 9: \"Садоводу\", 10: \"Любителю загородного отдыха\", 11: \"Туристу\", 12: \"Айтишнику\", 13: \"Футбольному болельщику\", 14: \"Рыбаку\", 15: \"Энтомологу\", undefined: \"Огороднику\"}\n// how: {1: \"По увлечениям\", 2: \"По профессии\", 3: \"Родственнику\", 4: \"Другу\", 5: \"На событие\"}\n// id: {1: \"1\", 2: \"2\", 3: \"3\", 4: \"4\", 5: \"5\", 6: \"6\", 7: \"7\", 8: \"8\", 9: \"9\", 10: \"10\", 11: \"11\", 12: \"12\", 13: \"13\", 14: \"14\", 15: \"15\"}\n// profession: {1: \"Доктору\", 2: \"Юристу\", 3: \"Учителю\", 4: \"Шефу\", 5: \"Бизнесмену\", 6: \"Коллеге\", 7: \"Айтишнику\", 8: \"Строителю\", 9: \"Военному\", 10: \"Моряку\", 11: \"Фитнес-тренеру\", 12: \"Швее\", 13: \"Повару\"}\n// relation: {1: \"Отец\", 2: \"Дедушка\", 3: \"Брат\", 4: \"Племянник\", 5: \"Дядя\", 6: \"Сын\", 7: \"Муж\", 8: \"Мать\", 9: \"Бабушка\", 10: \"Сестра\", 11: \"Племянница\", 12: \"Тётя\", 13: \"Дочь\", 14: \"Жена\"}\n// sex: {1: \"Мужчине\", 2: \"Женщине\"}\n//eventObj -- тестовый\n\n//products[]\n// age: \"от 11 до 16 лет, от 17 до 20 лет\"\n// event: \"День рождения, Выпускной\"\n// hobby: \"Рукодельнику\"\n// how: \"По увлечениям, Родственнику, Другу\"\n// id: \"2\"\n// img: \"457241941, 457241945, 457241937\"\n// name: \"Наборы для плетения из бисера\"\n// relation: \"Сестра, Племянница, Дочь\"\n// sex: \"Женщине\"\n","import React, {useEffect, useReducer} from 'react'\nimport {View, Spinner} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport reducer from './reducer'\n//import connect from '@vkontakte/vk-connect';\nimport bridge from '@vkontakte/vk-bridge';\n\nimport Home from './panels/home';\n\nimport {Context} from './context'\nimport {getXLS} from \"./services/xlsx\";\nimport PanelItem from \"./panels/panel\";\nimport PresentIdea from \"./panels/idea/index\";\nimport ListProducts from \"./panels/list_products\";\nimport {typeHow} from \"./services/filter_products\";\nimport {getTypes} from \"./services/types\";\n// import { checkPropTypes } from 'prop-types';\n//import {bounce} from '../../../node_modules/animate.css/animate.css';\n\nconst initialState = {\n    activePanel: 'home',\n    isOverflow: false,\n    panelOverflow: '',\n    fetchedUser: {\n        bdate: \"\",\n        city: {id: null, title: \"\"},\n        country: {id: 1, title: \"Россия\"},\n        first_name: \"\",\n        id: null,\n        last_name: \"\",\n        photo_100: \"\",\n        photo_200: \"\",\n        photo_max_orig: \"\",\n        sex: null,\n        timezone: null\n    },\n    popout: false,\n    error: '',\n    log: '',\n    types: {\n        how: [],\n        sex: [],\n        relation: [],\n        age: [],\n        profession: [],\n        hobby: [],\n        event: []\n    },\n    products: [],\n    filteredProducts: [],\n    indicators: {\n        sex: null,\n        relation: null,\n        age: null,\n        how: null,\n        profession: null,\n        hobby: null,\n        event: null,\n    }\n}\n\nconst App = () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    async function fetchUser() {\n        const user = await bridge.send('VKWebAppGetUserInfo');\n        dispatch({\n            type: 'setUser',\n            payload: {\n                fetchedUser: user,\n                popout: false,\n            }\n        })\n    };\n\n    //get user info\n    useEffect(() => {\n        dispatch({\n            type: 'setPopout',\n            payload: {\n                popout: true,\n            }\n        })\n        bridge.subscribe(({detail: {type, data}}) => {\n                if (type === 'VKWebAppUpdateConfig') {\n                    // const schemeAttribute = document.createAttribute('scheme');\n                    // console.log('schemeAttribute-- ', schemeAttribute);\n                }\n            }\n        );\n        fetchUser();\n    }, []);\n\n    //get characteristics of the products from xslx\n    useEffect(() => {\n        dispatch({\n            type: 'setPopout',\n            payload: {\n                popout: true,\n            }\n        })\n\n        async function fetchData() {\n            const data = await getXLS();\n\n            const types = getTypes(data.products, data.types)\n            dispatch({\n                type: 'setTypes',\n                payload: {\n                    types: types,\n                    popout: false,\n                }\n            })\n            dispatch({\n                type: 'getAllProducts',\n                payload: {\n                    products: data.products,\n                    popout: false,\n                }\n            })\n        }\n\n        fetchData();\n    }, []);\n\n    const getRelationsAtSex = () => {\n        let result = [], key;\n        for (key in state.types.relation) {\n            if (state.types.relation.hasOwnProperty(key) && (state.indicators.sex === 'Мужчине' ? +key <= 6 : +key > 6)) {\n                result.push(state.types.relation[key]);\n            }\n        }\n        return result;\n    }\n\n    return (\n        <Context.Provider value={{\n            state, dispatch\n        }}>\n            <div className={state.isOverflow ? \"container-height-auto\" : \"container\"}>\n                <View activePanel={state.activePanel}\n                      popout={state.popout ? <Spinner size='large' style={{color: '#279fd8'}}/> : null}>\n                    <Home id='home' fetchedUser={state.fetchedUser}/>\n                    <PanelItem id={'how'} to_id={'sex'} back_id={'home'} title={'Как подобрать подарок?'}\n                               types={state.types.how}/>\n                    <PanelItem withHeader id={'sex'} back_id={'how'} to_id={'age'} title={'Кому ищем подарок?'}\n                               types={state.types.sex}/>\n                    <PanelItem withHeader id={'age'} back_id={'sex'}\n                               to_id={typeHow[state.indicators.how] || 'list_products'} title={'Сколько лет?'}\n                               types={state.types.age}/>\n                    <PanelItem withHeader id={'profession'} back_id={'age'} to_id={'list_products'} title={'Профессия?'}\n                               types={state.types.profession}/>\n                    <PanelItem withHeader id={'relation'} back_id={'age'} to_id={'list_products'}\n                               title={'Кем приходится?'}\n                               types={getRelationsAtSex()}/>\n                    <PanelItem withHeader id={'hobby'} back_id={'age'} to_id={'list_products'} title={'Увлечение?'}\n                               types={state.types.hobby}/>\n                    <PanelItem withHeader id={'event'} back_id={'age'} to_id={'list_products'} title={'Событие?'}\n                               types={state.types.event}/>\n                    <ListProducts id='list_products' back_id={typeHow[state.indicators.how] || 'age'}/>\n                    <PresentIdea id={'idea'} back_id={'list_products'} fetchedUser={state.fetchedUser} title={'Идея'}/>\n                </View>\n                <span className={'error'}>{state.error}</span>\n            </div>\n\n        </Context.Provider>\n    );\n}\n\nexport default App;\n// panel_id: PropTypes.string.isRequired,\n// \twithHeader:PropTypes.bool,\n// \tback_id:PropTypes.string,\n// \tto_id:PropTypes.string.isRequired,\n// \ttitle:PropTypes.string.isRequired,\n// \taction:PropTypes.string.isRequired,\n// \tname:PropTypes.string.isRequired,\n// \ttypes:PropTypes.objectOf(PropTypes.string)\n\n\n// {id: {…}, how: {…}, sex: {…}, age: {…}, relation: {…}, …}\n// age: {1: \"от 0 до 10 лет\", 2: \"от 11 до 16 лет\", 3: \"от 17 до 20 лет\", 4: \"от 21 до 30 лет\", 5: \"от 30 и старше\"}\n// event: {1: \"На выписку\", 2: \"На рождение ребенка\", 3: \"Юбилей\", 4: \"День рождения\", 5: \"Корпоратив\", 6: \"Новоселье\", 7: \"Годовщина\", 8: \"Выпускной\", 9: \"Мальчишник\"}\n// hobby: {1: \"Книголюбу\", 2: \"Музыканту\", 3: \"Охотнику\", 4: \"Спортсмену\", 5: \"Автомобилисту\", 6: \"Кулинару\", 7: \"Рукодельнику\", 8: \"Путешественнику\", 9: \"Садоводу\", 10: \"Любителю загородного отдыха\", 11: \"Туристу\", 12: \"Айтишнику\", 13: \"Футбольному болельщику\", 14: \"Рыбаку\", 15: \"Энтомологу\"}\n// how: {1: \"По увлечениям\", 2: \"По профессии\", 3: \"Родственнику\", 4: \"Другу \\ подруге\", 5: \"На событие\"}\n// id: {1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, 10: 10, 11: 11, 12: 12, 13: 13, 14: 14, 15: 15}\n// profession: {1: \"Доктору\", 2: \"Юристу\", 3: \"Учителю\", 4: \"Шефу\", 5: \"Бизнесмену\", 6: \"Коллеге\", 7: \"Айтишнику\", 8: \"Строителю\", 9: \"Военному\", 10: \"Моряку\"}\n// relation: {1: \"Отец\", 2: \"Дедушка\", 3: \"Брат\", 4: \"Племянник\", 5: \"Дядя\", 6: \"Сын\", 7: \"Муж\", 8: \"Мать\", 9: \"Бабушка\", 10: \"Сестра\", 11: \"Племянница\", 12: \"Тётя\", 13: \"Дочь\", 14: \"Жена\"}\n// sex: {1: \"Мужчине\", 2: \"Женщине\"}\n// __proto__: Object\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n//import connect from '@vkontakte/vk-connect';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nbridge.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}